jQuery(function(o){o(document).ready(function(){!function(){var o=wpsl_locator_all.locations,e=wpsl_locator.mapstyles,n=wpsl_locator.mappin?wpsl_locator.mappin:"",t=new google.maps.LatLngBounds,a={mapTypeId:"roadmap",mapTypeControl:!1,zoom:8,styles:e,panControl:!1};"1"===wpsl_locator.custom_map_options&&(a=wpsl_locator.map_options);var l,s=new google.maps.InfoWindow,p=new google.maps.Map(document.getElementById("alllocationsmap"),a);for(l=0;l<o.length;l++){var i=new google.maps.LatLng(o[l].latitude,o[l].longitude);t.extend(i);var r=new google.maps.Marker({position:i,map:p,title:o[l].title,icon:n});google.maps.event.addListener(r,"click",function(e,n){return function(){s.setContent(o[n].infowindow),s.open(p,e),wpsl_all_locations_marker_clicked(e,s)}}(r,l)),p.fitBounds(t);var m=google.maps.event.addListener(p,"idle",function(){o.length<2&&p.setZoom(13),google.maps.event.removeListener(m)})}var g=google.maps.event.addListener(p,"bounds_changed",function(o){google.maps.event.removeListener(g)});wpsl_all_locations_rendered(p)}()})});