var SimpleLocatorAdmin;jQuery(function(t){function e(){var e=t("#lat_select").val(),o=t("#lng_select").val();t("#wpsl_lat_field").val(e),t("#wpsl_lng_field").val(o)}function o(){t("#field_wpsl").attr("checked","checked"),t("#field_custom").removeAttr("checked","checked"),t("#wpsl_lat_field").val("wpsl_latitude"),t("#wpsl_lng_field").val("wpsl_longitude"),t("#lat_select").val("wpsl_latitude"),t("#lng_select").val("wpsl_longitude")}function a(){t("#wpsl_post_type").val()===wpsl_locator.posttype?t(".wpsl-label-row").show():t(".wpsl-label-row").hide()}t(document).ready(function(){a(),t("#wpsl_post_type").val()!==wpsl_locator.posttype&&(t("#field_wpsl").attr("disabled","disabled").removeAttr("checked"),t("#field_custom").attr("checked","checked")),"wpsl"===t('input[name="wpsl_field_type"]:checked').val()&&t(".latlng").hide()}),t(document).on("change","#wpsl_post_type, #wpsl_show_hidden",function(){!function(){var a=t("#wpsl_post_type").val();a!==wpsl_locator.posttype?(t("#field_wpsl").attr("disabled","disabled").removeAttr("checked"),t("#field_custom").attr("checked","checked"),t(".latlng").show()):(t("#field_wpsl").removeAttr("disabled"),o());t("#lat_select, #lng_select").empty(),n=a,l=t("#wpsl_show_hidden").is(":checked")?"true":"false",t.ajax({type:"GET",url:ajaxurl,data:{action:"wpslposttype",nonce:wpsl_locator.locatorNonce,post_type:n,show_hidden:l},success:function(a){console.log(a),t("#lat_select, #lng_select").html(a.fields),e(),"location"===n&&o()}});var n,l}(),a()}),t(document).on("change",'input[name="wpsl_field_type"]:radio',function(){"wpsl"==t(this).val()?(t(".latlng").hide(),o()):(t(".latlng").show(),e())}),t(document).on("change","#lat_select, #lng_select",function(){e()}),t(".wpsl-reset-posttype").on("click",function(e){if(e.preventDefault(),!confirm("Are you sure you want to reset to the default post type?"))return!1;t.ajax({type:"POST",url:ajaxurl,data:{action:"wpslresetposttype"},success:function(t){location.reload()}})})}),(SimpleLocatorAdmin=SimpleLocatorAdmin||{}).Modals=function(){var t=this,e=jQuery;return t.activeBtn="",t.activeModal="",t.modalOpen=!1,t.selectors={toggleBtn:"[data-modal-toggle]",backdrop:"[data-modal-backdrop]",closeBtn:"[data-modal-close]"},t.bindEvents=function(){e(document).on("click",t.selectors.toggleBtn,function(o){o.preventDefault(),t.activeBtn=e(this),t.openModal()}),e(document).on("click",t.selectors.closeBtn,function(e){e.preventDefault(),t.closeModals()}),e(document).on("open-modal-manual",function(o,a){t.activeModal=e('*[data-modal="'+a+'"]'),t.openModal()}),e(document).on("close-modal-manual",function(e){t.closeModals()}),e(document).on("click",t.selectors.backdrop,function(e){t.closeModals()})},t.openModal=function(){if(t.modalOpen)t.closeModals();else{if(e(t.activeBtn).length>0){var o=e(t.activeBtn).attr("data-modal-toggle");t.activeModal=e('*[data-modal="'+o+'"]')}e(t.activeModal).addClass("active"),t.modalOpen=!0,e(document).trigger("open-modal",[t.activeBtn,t.activeModal])}},t.closeModals=function(){t.modalOpen=!1,e("[data-modal]").removeClass("active"),e(document).trigger("close-modal",[t.activeBtn,t.activeModal])},t.bindEvents()},(SimpleLocatorAdmin=SimpleLocatorAdmin||{}).GeneralSettings=function(){var t=this,e=jQuery;return t.mediaUploader=null,t.selectors={geoEnableCheckbox:"data-simple-locator-geo-enabled-checkbox",locationButtonText:"data-simple-locator-location-button-text",uploadMapPinButton:"data-simple-locator-upload-pin-button",removeMapPinButton:"data-simple-locator-remove-pin-button",mapPinImage:"data-simple-locator-map-pin-image",mapPinInput:"data-simple-locator-map-pin-input",mapPinContainer:"data-simple-locator-map-pin-image-container"},t.bindEvents=function(){e(document).ready(function(){t.toggleLocationButtonText()}),e(document).on("change","["+t.selectors.geoEnableCheckbox+"]",function(){t.toggleLocationButtonText()}),e(document).on("click","["+t.selectors.uploadMapPinButton+"]",function(o){o.preventDefault(),t.openMediaLibrary(e(this))}),e(document).on("click","["+t.selectors.removeMapPinButton+"]",function(e){e.preventDefault(),t.removeMapPin()})},t.toggleLocationButtonText=function(){var o=e("["+t.selectors.locationButtonText+"]");e("["+t.selectors.geoEnableCheckbox+"]").is(":checked")?e(o).show():e(o).hide()},t.removeMapPin=function(){e("["+t.selectors.mapPinImage+"]").remove(),e("["+t.selectors.mapPinInput+"]").val(""),e("["+t.selectors.mapPinContainer+"]").append('<input id="upload_image_button" type="button" value="'+wpsl_locator.upload+'" class="button action" '+t.selectors.uploadMapPinButton+" />"),e("["+t.selectors.removeMapPinButton+"]").remove()},t.addMapPin=function(o){var a='<img src="'+o+'" id="map-pin-image" '+t.selectors.mapPinImage+" />";a+='<input id="remove_map_pin" type="button" value="'+wpsl_locator.remove+'" class="button action" style="margin-right:5px;margin-left:10px;" '+t.selectors.removeMapPinButton+" />",e("["+t.selectors.mapPinContainer+"]").append(a),e("["+t.selectors.uploadMapPinButton+"]").remove(),e("["+t.selectors.mapPinInput+"]").val(o)},t.openMediaLibrary=function(e){t.mediaUploader?t.mediaUploader.open():(t.mediaUploader=wp.media.frames.file_frame=wp.media({title:"Choose Map Pin",button:{text:"Choose Map Pin"},multiple:!1}),t.mediaUploader.on("select",function(){var e=t.mediaUploader.state().get("selection").first().toJSON();t.addMapPin(e.url)}),t.mediaUploader.open())},t.bindEvents()},(SimpleLocatorAdmin=SimpleLocatorAdmin||{}).PostEdit=function(){var t=this,e=jQuery;return t.lookupaddress=!0,t.mappinrelocated=!1,t.selectors={inputAddress:"#wpsl_address",inputCity:"#wpsl_city",inputState:"#wpsl_state",inputZip:"#wpsl_zip",inputLatitude:"#wpsl_latitude",inputLongitude:"#wpsl_longitude",noAddressConfirm:"data-simple-locator-confirm-no-address",publishButton:"#publish"},t.bindEvents=function(){e(window).on("load",function(){t.setMapPinStatus(),t.checkMapStatus(),"true"===e("#wpsl_custom_geo").val()&&(mappinrelocated=!0)}),e(document).on("click",".acf-tab-button",function(){t.checkMapStatus()}),e(document).on("click",t.selectors.publishButton,function(o){if(("wpsl_latitude"===wpsl_locator.lat_field||""===wpsl_locator.map_field)&&t.lookupaddress&&!t.mappinrelocated)if(o.preventDefault(),editScreenGoogleApiError)e(document).trigger("open-modal-manual",["post-edit-error"]);else{var a=t.formatAddress();t.googleGeocodeAddress(a)}}),e(document).on("click","["+t.selectors.noAddressConfirm+"]",function(e){e.preventDefault(),t.saveWithoutLocation()})},t.setMapPinStatus=function(){t.mappinrelocated=!!e("#wpsl_custom_geo").val("true")},t.formatAddress=function(){return e(t.selectors.inputAddress).val()+" "+e(t.selectors.inputCity).val()+" "+e(t.selectors.inputState).val()+" "+e(t.selectors.inputZip).val()},t.googleGeocodeAddress=function(o){geocoder=new google.maps.Geocoder,geocoder.geocode({address:o},function(o,a){if(a==google.maps.GeocoderStatus.OK){var n=o[0].geometry.location.lat(),l=o[0].geometry.location.lng();e(t.selectors.inputLatitude).val(n),e(t.selectors.inputLongitude).val(l),t.lookupaddress=!1,e(t.selectors.publishButton).click()}else e(document).trigger("open-modal-manual",["post-edit-error"])})},t.saveWithoutLocation=function(){e(document).trigger("close-modal-manual"),t.lookupaddress=!1,e(t.selectors.publishButton).click()},t.checkMapStatus=function(){if(e("#wpslmap").length>0){var o=e(t.selectors.inputLatitude).val(),a=e(t.selectors.inputLongitude).val();""!==o&&""!==a&&(e("#wpslmap").show(),t.loadGoogleMap(o,a))}},t.loadGoogleMap=function(o,a){var n,l=new google.maps.Map(document.getElementById("wpslmap"),{zoom:14,center:new google.maps.LatLng(o,a),mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,scaleControl:!1});n=new google.maps.Marker({position:new google.maps.LatLng(o,a),map:l,draggable:!0}),google.maps.event.addListener(n,"drag",function(){e(t.selectors.inputLatitude).val(n.position.lat()),e(t.selectors.inputLongitude).val(n.position.lng()),e(t.selectors.inputLatitude+","+t.selectors.inputLongitude).attr("readonly",!1),e("#wpsl_custom_geo").val("true"),mappinrelocated=!0})},t.bindEvents()},jQuery(function(t){var e=parseInt(wpsl_locator.importoffset),o=parseInt(wpsl_locator.complete_count),a=parseInt(wpsl_locator.error_count),n=!1,l=0,i=0,s=!0,r=5;function c(){t(".wpsl-loading-settings").show(),t(".wpsl-column-selection").hide(),t.ajax({url:ajaxurl,type:"POST",datatype:"json",data:{action:"wpslimportcolumns",rowcount:l,nonce:wpsl_locator.locatorNonce},success:function(e){i=e.row_count,function(e){l+1===e.row_count?t('button[data-direction="next"').attr("disabled","disabled"):t('button[data-direction="next"').attr("disabled",!1);for(var o='<option value="">'+wpsl_locator.choose_column+"</option>",a=0;a<e.columns.length;a++)o+='<option value="'+a+'">'+e.columns[a]+"</option>";t(".wpsl-import-column-selection").html(o),t(".wpsl-loading-settings").hide(),t(".wpsl-column-selection").show()}(e)}})}function p(){n||t.ajax({url:ajaxurl,type:"post",datatype:"json",data:{action:"wpsldoimport",nonce:wpsl_locator.locatorNonce,offset:e,imports_per_request:r},success:function(n){var l,i,s,r;console.log(n),"complete"===n.status?(t(".wpsl-import-indicator").hide(),t(".wpsl-import-complete").show(),t.ajax({url:ajaxurl,type:"post",datatype:"json",data:{action:"wpslfinishimport"},success:function(e){console.log(e),t(".wpsl-total-import-count").text(e.import_count),t(".wpsl-total-error-count, .error-count").text(e.error_count),e.errors.length>0&&function(e){for(var o=0;o<e.length;o++){var a="<tr><td>"+e[o].row+"</td><td>"+e[o].error+"</td></tr>";t(".wpsl-import-details table").append(a)}t(".wpsl-import-details").show()}(e.errors)}})):"error"===n.status?(t(".wpsl-import-error p").text(n.message),t(".wpsl-import-error").show()):"success"===n.status&&(o+=(l=n).import_count,e=e+l.import_count+l.failed_count,a+=l.failed_count,t(".progress-count").text(o),t(".error-count").text(a),i=t(".progress-bar-bg").width(),s=o/parseInt(t(".progress-bar-bg").data("total")),r=i*s,t(".progress-bar").width(r+"px"),p())}})}t(document).on("click",".wpsl-new-import",function(e){e.preventDefault(),t(".wpsl-upload-form").show(),t(this).parents(".wpsl-import-instructions").hide()}),t(document).on("click","[data-toggle-import-instructions]",function(e){e.preventDefault(),t(".wpsl-import-instructions").toggle()}),t(document).ready(function(){"true"===wpsl_locator.isimport&&"2"===wpsl_locator.importstep&&c()}),t(".wpsl-row-selection button").on("click",function(e){e.preventDefault(),function(e){"back"==e?l--:l++;0==l?t('button[data-direction="back"]').attr("disabled","disabled"):t('button[data-direction="back"]').attr("disabled",!1);var o=l+1,a=wpsl_locator.Row+" "+o+" of "+i;t(".wpsl-current-row").text(a),c()}(t(this).data("direction"))}),t(document).ready(function(){var e;"2"==wpsl_locator.importstep&&(e=!0,t.ajax({type:"GET",url:ajaxurl,data:{action:"wpslposttype",nonce:wpsl_locator.locatorNonce,post_type:t("#wpsl-import-post-type").val(),show_hidden:"false"},success:function(o){if(e){var a=t(".wpsl-import-field-selection");t.each(a,function(e,a){var n,l;n=t(this),l=o.fields,t(n).append('<option value="title">'+wpsl_locator.title+"</option>"),t(n).append('<option value="content">'+wpsl_locator.content+"</option>"),t(n).append(l)})}}}))}),t(".wpsl_save_columns").on("click",function(e){e.preventDefault(),t(".wpsl-column-error, .wpsl-form-error").hide(),s=!0,function(){var e=t(".wpsl-field"),o=!1,a=!1;t.each(e,function(e,n){var l=t(this).find(".wpsl-import-column-selection"),i=t(this).find(".wpsl-import-field-selection");""!==t(l).val()&&""!==t(i).val()||(t(this).find(".wpsl-column-error").text(wpsl_locator.required).show(),s=!1);var r=t(this).find(".wpsl-import-type-selection");"address"!==t(r).val()&&"full_address"!==t(r).val()||(a=!0),"title"===t(i).val()&&(o=!0)}),a||(t(".wpsl-form-error").html("<p>"+wpsl_locator.required_address+"</p>").show(),s=!1);o||(t(".wpsl-form-error").html("<p>"+wpsl_locator.required_title+"</p>").show(),s=!1)}(),s&&t(this).unbind("click").click()}),t(document).on("click",".wpsl-import-remove-field",function(e){var o,a;e.preventDefault(),o=t(this),a=t(o).parent("li"),t(a).remove()}),t(document).on("click",".wpsl-import-add-field a",function(e){var o,a;e.preventDefault(),o=t(".wpsl-field").length,a=t(".row-template").clone().removeClass("row-template"),t(a).appendTo(".wpsl-column-fields").find(".wpsl-import-remove-field").show(),t(a).find(".wpsl-column-error").text("").hide(),t(a).find(".wpsl-import-field-selection").attr("name","wpsl_import_field["+o+"][field]"),t(a).find(".wpsl-import-column-selection").attr("name","wpsl_import_field["+o+"][csv_column]"),t(a).find(".wpsl-import-type-selection").attr("name","wpsl_import_field["+o+"][type]")}),t(document).on("change",".wpsl-import-field-selection",function(){var e=t(this).val(),o=t(this).next(".wpsl-import-type-selection");"wpsl_address"===e&&t(o).val("address"),"wpsl_city"===e&&t(o).val("city"),"wpsl_state"===e&&t(o).val("state"),"wpsl_zip"===e&&t(o).val("zip"),"wpsl_website"===e&&t(o).val("website")}),t(".wpsl-start-import").on("click",function(e){e.preventDefault(),t(".wpsl-import-indicator-intro, .wpsl-last-row-imported").hide(),t(".wpsl-import-indicator").show(),p()}),t(document).on("click",".wpsl-pause-import",function(e){e.preventDefault();var o=(n=!n)?wpsl_locator.pause_continue:wpsl_locator.pause;t(this).text(o),p()}),t(document).on("click","[data-import-toggle-details]",function(e){e.preventDefault(),t(this).parents(".import").find(".import-body").toggle()}),t(document).on("click","[data-undo-import]",function(e){e.preventDefault();var o,a=t(this).attr("data-undo-import");confirm(wpsl_locator.confirm_undo)&&(o=a,t("#undo_import_id").val(o),t("[data-undo-import-form]").submit())}),t(document).on("click","[data-redo-import]",function(e){e.preventDefault();var o,a=t(this).attr("data-redo-import");confirm(wpsl_locator.confirm_redo)&&(o=a,t("#redo_import_id").val(o),t("[data-redo-import-form]").submit())}),t(document).on("click","[data-remove-import]",function(e){e.preventDefault();var o,a=t(this).attr("data-remove-import");confirm(wpsl_locator.confirm_remove)&&(o=a,t("#remove_import_id").val(o),t("[data-remove-import-form]").submit())})}),(SimpleLocatorAdmin=SimpleLocatorAdmin||{}).DefaultMap=function(){var t=this,e=jQuery;return t.selectors={showDefaultCheckbox:"data-simple-locator-default-checkbox",defaultMap:"data-simple-locator-default-map",zoomInput:"data-simple-locator-zoom-input",latitudeInput:"data-simple-locator-latitude-input",longitudeInput:"data-simple-locator-longitude-input",locationSearchButton:"data-simple-locator-location-search-button",locationSearchInput:"data-simple-locator-location-search-input",error:"data-simple-locator-error"},t.bindEvents=function(){e(document).ready(function(){e("["+t.selectors.defaultMap+"]").length<1||wpsl_locator_defaultmap.enabled&&t.toggleDefaultMap(!0)}),e(document).on("change","["+t.selectors.showDefaultCheckbox+"]",function(){e(this).is(":checked")?t.toggleDefaultMap(!0):t.toggleDefaultMap(!1)}),e(document).on("click","["+t.selectors.locationSearchButton+"]",function(e){e.preventDefault(),t.findLocation()})},t.toggleDefaultMap=function(o){if(o)return e("["+t.selectors.defaultMap+"]").show(),void t.loadDefaultMap();e("["+t.selectors.defaultMap+"]").hide()},t.loadDefaultMap=function(o,a){o||(o=wpsl_locator_defaultmap.latitude),a||(a=wpsl_locator_defaultmap.longitude);var n=new google.maps.LatLng(o,a),l={center:n,zoom:parseInt(wpsl_locator_defaultmap.zoom),mapTypeControl:!1,streetViewControl:!1,styles:wpsl_locator_defaultmap.styles},i=new google.maps.Map(document.getElementById("wpsl-default"),l),s=new google.maps.Marker({position:n,map:i,icon:wpsl_locator_defaultmap.mappin,draggable:!0});google.maps.event.addListener(i,"zoom_changed",function(){var o=i.getZoom();e("["+t.selectors.zoomInput+"]").val(o)}),google.maps.event.addListener(s,"drag",function(){e("["+t.selectors.latitudeInput+"]").val(s.position.lat()),e("["+t.selectors.longitudeInput+"]").val(s.position.lng())})},t.findLocation=function(){t.toggleError(!1);var o=e("["+t.selectors.locationSearchInput+"]").val();geocoder=new google.maps.Geocoder,geocoder.geocode({address:o},function(e,o){if(o!=google.maps.GeocoderStatus.OK)t.toggleError(!0);else{var a=e[0].geometry.location.lat(),n=e[0].geometry.location.lng();t.loadDefaultMap(a,n)}})},t.loadSearchResults=function(o,a){t.loadDefaultMap(o,a),e("["+t.selectors.latitudeInput+"]").val(o),e("["+t.selectors.longitudeInput+"]").val(a)},t.toggleError=function(o){o?e("["+t.selectors.error+"]").show():e("["+t.selectors.error+"]").hide()},t.bindEvents()},(SimpleLocatorAdmin=SimpleLocatorAdmin||{}).ResultsDisplay=function(){var t=this,e=jQuery;return t.bindEvents=function(){e(document).ready(function(){t.enableDatePicker()}),e(document).on("click",".wpsl-field-add",function(e){e.preventDefault(),t.addResultField()}),e(document).on("click",".wpsl-post-field-add",function(e){e.preventDefault(),t.addPostField()})},t.addResultField=function(){var t="["+e("#wpsl-fields").val()+"]";tinymce.activeEditor.execCommand("mceInsertContent",!1,t)},t.addPostField=function(){var t="["+e("#wpsl-post-fields").val()+"]";tinymce.activeEditor.execCommand("mceInsertContent",!1,t)},t.enableDatePicker=function(){e("[data-date-picker]").datepicker({beforeShow:function(t,o){e("#ui-datepicker-div").addClass("wpsl-datepicker")}})},t.bindEvents()},(SimpleLocatorAdmin=SimpleLocatorAdmin||{}).MapDisplay=function(){var t=this,e=jQuery;return t.selectors={styleChoiceSelect:"data-simple-locator-map-style-choice",styleChoice:"data-simple-locator-map-style",styleList:"data-simple-locator-map-style-list",styleSelect:"data-simple-locator-map-style-select",styleChoiceInput:"data-simple-locator-map-style-choice-input",customOptionsCheckbox:"data-simple-locator-custom-map-options-checkbox",customOptions:"data-simple-locator-custom-map-options"},t.bindEvents=function(){e(document).ready(function(){e("["+t.selectors.styleList+"]").length<1||t.buildMapChoices()}),e(document).on("change","["+t.selectors.styleChoiceSelect+"]",function(){var o=e(this).val();t.toggleChoice(o)}),e(document).on("click","["+t.selectors.styleSelect+"]",function(o){o.preventDefault(),t.selectStyle(e(this))}),e(document).on("change","["+t.selectors.customOptionsCheckbox+"]",function(){e(this).is(":checked")?e("["+t.selectors.customOptions+"]").show():e("["+t.selectors.customOptions+"]").hide()})},t.toggleChoice=function(o){o=e("["+t.selectors.styleChoice+"="+o+"]");e("["+t.selectors.styleChoice+"]").hide(),e(o).show()},t.buildMapChoices=function(){e("["+t.selectors.styleList+"]").empty(),e.each(wpsl_locator_mapstyles,function(e,o){t.buildMapHtml(e,o),t.loadChoiceMap(o)})},t.buildMapHtml=function(o,a){var n='<li class="';o%3==0&&(n+="first"),a.selected&&(n+=" active"),n+='">',n+="<h4>"+a.title+"</h4>",n+='<div class="map" id="map_'+a.id+'"></div>',n+='<a href="'+a.id+'" class="choose-style" '+t.selectors.styleSelect+">",n+="Use Style",n+="</a>",n+="</li>",e("["+t.selectors.styleList+"]").append(n)},t.loadChoiceMap=function(t){var e=JSON.parse(t.styles),o="map_"+t.id,a={center:new google.maps.LatLng(40.7699354,-73.9810812),zoom:13,mapTypeControl:!1,streetViewControl:!1,styles:e};t=new google.maps.Map(document.getElementById(o),a)},t.selectStyle=function(o){var a=e(o).attr("href");e("["+t.selectors.styleChoiceInput+"]").val(a),e("["+t.selectors.styleList+"] li").removeClass("active"),e(o).parent("li").addClass("active")},t.bindEvents()},(SimpleLocatorAdmin=SimpleLocatorAdmin||{}).SearchHistory=function(){var t=this,e=jQuery;return t.locations,t.selectors={container:"data-simple-locator-search-history-map",perPage:"data-simple-locator-history-per-page"},t.bindEvents=function(){e(document).ready(function(){e("["+t.selectors.container+"]").length<1||(t.locations=search_history_locations,t.loadMap())}),e("["+t.selectors.perPage+"]").on("change",function(){e(this).parents("form").submit()})},t.loadMap=function(){var o,a=wpsl_locator_searchhistory.mapstyles,n=wpsl_locator_searchhistory.mappin?wpsl_locator_searchhistory.mappin:"",l=new google.maps.LatLngBounds,i=t.locations,s=e("["+t.selectors.container+"]"),r={mapTypeId:"roadmap",mapTypeControl:!1,zoom:8,styles:a,scrollwheel:!1,panControl:!1},c=new google.maps.InfoWindow,p=new google.maps.Map(s[0],r);for(o=0;o<i.length;o++){var d=new google.maps.LatLng(i[o].latitude,i[o].longitude);l.extend(d);var u=new google.maps.Marker({position:d,map:p,title:i[o].search_term,icon:n});i[o].infowindow="<h4>"+i[o].date+"</h4>",i[o].infowindow+="<p>",i[o].infowindow+=wpsl_locator_searchhistory.searchTerm+": "+i[o].search_term,i[o].infowindow+="<br>"+wpsl_locator_searchhistory.searchTermFormatted+": "+i[o].search_term_formatted,i[o].infowindow+="<br>"+wpsl_locator_searchhistory.userIp+": "+i[o].user_ip,i[o].infowindow+="<br>"+wpsl_locator_searchhistory.distance+": "+i[o].distance,i[o].infowindow+="</p>",google.maps.event.addListener(u,"click",function(t,e){return function(){c.setContent(i[e].infowindow),c.open(p,t)}}(u,o)),p.fitBounds(l);var m=google.maps.event.addListener(p,"idle",function(){i.length<2&&p.setZoom(13),google.maps.event.removeListener(m)})}var f=google.maps.event.addListener(p,"bounds_changed",function(t){google.maps.event.removeListener(f)})},t.bindEvents()},jQuery(document).ready(function(){new SimpleLocatorAdmin.Factory}),(SimpleLocatorAdmin=SimpleLocatorAdmin||{}).endpoints={},SimpleLocatorAdmin.Factory=function(){jQuery;return this.init=function(){new SimpleLocatorAdmin.Modals,new SimpleLocatorAdmin.PostEdit,new SimpleLocatorAdmin.GeneralSettings,new SimpleLocatorAdmin.MapDisplay,new SimpleLocatorAdmin.ResultsDisplay,new SimpleLocatorAdmin.DefaultMap,new SimpleLocatorAdmin.SearchHistory},this.init()};var editScreenGoogleApiError=!1;function gm_authFailure(t){editScreenGoogleApiError=!0}